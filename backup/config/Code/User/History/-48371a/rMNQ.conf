# For more information visit https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock/

# =========================
# VARIABLES
# =========================
$scrPath      = ~/.config/hypr/hyprlock
$imgPath      = ~/.config/hypr/hyprlock/assets

$USER         = PrT15
$host         = uname -n
$bt-mode      = true

# Default geolocation provider is IP-API.COM, hardcode it if needed
$CITY         =
$COUNTRY      =

# WALLPAPER
$wallpaper    = screenshot
# $wallpaper  = ~/your/wallpaper-path.png
$blur         = 4

# ADJUST HERE
$rounding     = 12
$shape-rd     = -1
$font-text    = GeistMono Nerd Font Bold
$font-text0   = GeistMono Nerd Font
$font-display = PP Neue Machina Ultra-Bold
$font-symbol  = JetBrainsMono Nerd Font Mono

$weight       = 2
$inner-color  = rgba(0, 0, 0, 0.5)
$border-color = rgba(255, 255, 255, 0.15)

# Colors
$clock-color  = rgba(255, 255, 255, 1)
$fg0          = rgba(255, 255, 255, 1)
$fg1          = rgba(0, 0, 0, 1)
$shape-col0   = rgba(255, 255, 255, 1)
$shape-col1   = rgba(0, 0, 0, 0.25)
$shape-col2   = rgba(255, 255, 255, 0.25)

$shadow-pass  = 0
$shadow-size  = 0
$shadow-color = rgb(0,0,0)
$shadow-boost = 0
$text-shadow-pass   = 0
$text-shadow-boost  = 0

# =========================
# GENERAL
# =========================
general {
    no_fade_in          = false
    grace               = 5
    disable_loading_bar = false
    hide_cursor         = true
    ignore_empty_input  = true
    text_trim           = true
}

# =========================
# BACKGROUND
# =========================
background {
    monitor     =
    path        = $wallpaper

    blur_passes       = $blur
    contrast          = 0.90
    brightness        = 0.75
    vibrancy          = 0.02
    vibrancy_darkness = 0
    zindex            = -1
}

# =========================
# INPUT FIELD
# =========================
# Width and height in percentages so it scales with output size
input-field {
    monitor     =
    size        = 22%, 6%
    rounding    = $rounding

    outline_thickness = $weight
    outer_color       = $border-color
    dots_size         = 0.30
    dots_spacing      = 1
    dots_center       = true

    inner_color       = $inner-color
    font_color        = $fg0
    fade_on_empty     = false

    font_family       = $font-text
    placeholder_text  = <span>Û∞¢è $USER</span>
    hide_input        = false

    # Centered, slightly above true center
    position          = 0%, -12%
    halign            = center
    valign            = center
    zindex            = 10
}

# =========================
# CLOCK
# =========================
# Merge hours and minutes into one label for cleaner scaling alignment
label {
    monitor     =
    text        = cmd[update:1000] date +"%I:%M %p" | sed 's/^0//'
    color       = $clock-color

    shadow_pass = $shadow-pass
    shadow_size = $shadow-size
    shadow_color= $shadow-color
    shadow_boost= $shadow-boost

    # Font size scales with output height
    font_size   = 12%
    font_family = $font-display

    # Top area, centered
    position    = 0%, 8%
    halign      = center
    valign      = top
    zindex      = 5
}

# =========================
# GREETING
# =========================
label {
    monitor     =
    text        = cmd[update:1000] echo "$(bash $scrPath/greeting.sh)"

    shadow_passes = $text-shadow-pass
    shadow_boost  = $text-shadow-boost

    color       = $fg0
    font_size   = 2.2%
    font_family = $font-text

    position    = 0%, 22%
    halign      = center
    valign      = top
    zindex      = 5
}

# =========================
# DATE + WEEKDAY
# =========================
# Date line
label {
    monitor     =
    text        = cmd[update:1000] bash -c 'day=$(date +%d); case "$day" in 1) s="st";; 2) s="nd";; 3) s="rd";; *) s="th";; esac; printf "%s %d%s, %s" "$(date +%B)" "$day" "$s" "$(date +%Y)"'

    shadow_passes = $text-shadow-pass
    shadow_boost  = $text-shadow-boost

    color       = $fg0
    font_size   = 2.6%
    font_family = $font-text

    position    = 0%, 50%
    halign      = center
    valign      = center
    zindex      = 5
}

# Weekday line just below
label {
    monitor     =
    text        = cmd[update:3600000] date +%A

    shadow_passes = $text-shadow-pass
    shadow_boost  = $text-shadow-boost

    color       = $fg0
    font_size   = 2.3%
    font_family = $font-text

    position    = 0%, 55%
    halign      = center
    valign      = center
    zindex      = 5
}

# =========================
# BOTTOM STATUS ROW
# =========================
# Use two shapes as soft backgrounds, left and right, then labels on top

# LEFT SHAPE for NETWORK
shape {
    monitor     =
    size        = 22%, 6%           # scales with width and height
    color       = $shape-col0
    rounding    = $shape-rd
    border_size =
    border_color=

    # Bottom left with some margin
    position    = 3%, 3%
    halign      = left
    valign      = bottom
    zindex      = 1
}

# RIGHT SHAPE for BATTERY
shape {
    monitor     =
    size        = 14%, 6%
    color       = $shape-col0
    rounding    = $shape-rd
    border_size =
    border_color=

    position    = 3%, 3%
    halign      = right
    valign      = bottom
    zindex      = 1
}

# NETWORK LABEL (left)
label {
    monitor     =
    text        = cmd[update:1000] echo -e "$($scrPath/network.sh)"
    color       = $fg1
    font_size   = 1.8%
    font_family = $font-text

    # Slight insets from the shape edges
    position    = 4.5%, 4.5%
    halign      = left
    valign      = bottom
    zindex      = 5
}

# BATTERY LABEL (right)
label {
    monitor     =
    text        = cmd[update:1000] echo -e "$($scrPath/battery.sh)"
    color       = $fg1
    font_size   = 1.8%
    font_family = $font-text

    position    = 4.5%, 4.5%
    halign      = right
    valign      = bottom
    zindex      = 5
}

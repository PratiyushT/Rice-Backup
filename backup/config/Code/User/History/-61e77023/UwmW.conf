#!       ▒◌◌▒▒▒▦            ___________
#!    ▒▒◌◌▦▒▒▒▒▦        //___________/
#!   ▒▒◌◌▦▒▒▒▒▦     _   _ _    _ _____
#!   ▒▒◌◌▒▒▒▒▒▦ | | | | |  | |  __/
#!    ▒▦◌◌▒▒▦ ▦  ▦ | |_| | |_/ /| |___
#!      ▒▦◌◌▦ ▦  ▦   \__  |____/ |____/
#!        ▒▦▦   ▦  //____/

$LOCKSCREEN = lockscreen.sh
$PowerActions = ~/.config/hypr/scripts/power-action.sh

general {
    lock_cmd = $LOCKSCREEN
    before_sleep_cmd = $LOCKSCREEN
    ignore_dbus_inhibit = false
    ignore_systemd_inhibit = false
}

# ──────────── Battery Actions ────────────

# Dim brightness after 1.5 minutes on battery
listener {
    timeout = 90
    on-timeout = $PowerActions brightness battery
    on-resume = brightnessctl -r
}

# Lock screen after 2 minutes on battery
listener {
    timeout = 120
    on-timeout = $PowerActions lock battery
}

# Turn off display after 4 minutes on battery
listener {
    timeout = 240
    on-timeout = $PowerActions dpms_off battery
    on-resume = hyprctl dispatch dpms on
}

# Suspend after 6 minutes on battery
listener {
    timeout = 360
    on-timeout = $PowerActions suspend battery
    on-resume = $PowerActions notify battery "System successfully resumed."
}

# ──────────── AC Actions ────────────

# Dim brightness after 10 minutes on AC
listener {
    timeout = 600
    on-timeout = $PowerActions brightness ac
    on-resume = brightnessctl -r
}

# Lock screen after 7 minutes on AC
listener {
    timeout = 420
    on-timeout = $PowerActions lock ac
}

# Turn off display after 2 hours on AC
listener {
    timeout = 7200
    on-timeout = hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# Suspend after 3 hours on AC
listener {
    timeout = 10800
    on-timeout = $PowerActions suspend ac
    on-resume = $PowerActions notify ac "System successfully resumed."
}

# hyprlang noerror true
source = ~/.config/hypridle/*
# hyprlang noerror false

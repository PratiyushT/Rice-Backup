/* ===== Level 1 → then ● ○ ■ — and repeat ===== */

/* ---------- Tunables ---------- */
:root{
  --indent-pad: 1.25rem;  /* list left padding */
  --mark-left: 0.10rem;   /* small horizontal nudge */
  --mark-top: 0.62em;     /* vertical align center */

  --arrow-char: "→";
  --arrow-size: 0.9em;

  --dot1: 5px;            /* ● (smaller) */
  --dot2: 6px;            /* ○ (slightly bigger ring) */
  --sq:   5px;            /* ■ */
  --dash-w: 9px;          /* — width */
  --dash-h: 2px;          /* — height */

  --mark-color: currentColor;
}

/* =========================================================
   READING VIEW (Preview)
   ========================================================= */
.markdown-rendered ul{ list-style: none; padding-left: var(--indent-pad); }
.markdown-rendered ul li{ position: relative; }
.markdown-rendered li.task-list-item::before{ content: none !important; }

/* L1: Arrow */
.markdown-rendered ul > li::before{
  content: var(--arrow-char);
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  transform: translateY(-50%);
  font-size: var(--arrow-size);
  line-height: 1; color: var(--mark-color);
}

/* L2: ● */
.markdown-rendered ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--dot1); height: var(--dot1);
  border-radius: 50%; background: var(--mark-color);
  transform: translateY(-50%);
}

/* L3: ○ */
.markdown-rendered ul ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--dot2); height: var(--dot2);
  border-radius: 50%;
  background: transparent; border: 2px solid var(--mark-color);
  transform: translateY(-50%);
}

/* L4: ■ */
.markdown-rendered ul ul ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--sq); height: var(--sq);
  border-radius: 2px; background: var(--mark-color);
  transform: translateY(-50%);
}

/* L5: — */
.markdown-rendered ul ul ul ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--dash-w); height: var(--dash-h);
  border-radius: 1px; background: var(--mark-color);
  transform: translateY(-50%);
}

/* Repeat (6..9) */
.markdown-rendered ul ul ul ul ul ul > li::before{         /* 6: ● */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--dot1); height:var(--dot1); border-radius:50%; background:var(--mark-color); transform:translateY(-50%);
}
.markdown-rendered ul ul ul ul ul ul ul > li::before{      /* 7: ○ */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--dot2); height:var(--dot2); border-radius:50%; background:transparent; border:2px solid var(--mark-color); transform:translateY(-50%);
}
.markdown-rendered ul ul ul ul ul ul ul ul > li::before{   /* 8: ■ */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--sq); height:var(--sq); border-radius:2px; background:var(--mark-color); transform:translateY(-50%);
}
.markdown-rendered ul ul ul ul ul ul ul ul ul > li::before{/* 9: — */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--dash-w); height:var(--dash-h); border-radius:1px; background:var(--mark-color); transform:translateY(-50%);
}

/* Checkbox alignment in preview */
.markdown-rendered .task-list-item-checkbox{
  transform: translateX(calc(-1 * var(--indent-pad) + var(--mark-left)));
}

/* =========================================================
   LIVE PREVIEW (Editor)
   ========================================================= */
/* Hide the built-in bullets in editor so ours replace them */
.cm-editor .cm-line .cm-formatting-list-ul,
.cm-editor .cm-line .cm-formatting-list-ol{ color: transparent !important; }

/* Reset any previous :after from other snippets/themes */
.cm-editor .cm-line .list-bullet::after{
  content: "";
  width: 0; height: 0; margin: 0;
  border: none; background: transparent;
}

/* Helper: common positioning for our custom marks */
.cm-editor .cm-line .list-bullet::after{
  display: inline-block;
  margin-left: calc(-1 * var(--indent-pad));
  margin-right: 0.45rem;
  vertical-align: middle;
}

/* L1: Arrow */
.cm-editor .HyperMD-list-line-1 .list-bullet::after{
  content: var(--arrow-char);
  font-size: var(--arrow-size);
  line-height: 1;
  color: var(--mark-color);
  width: auto; height: auto;   /* text mark */
}

/* L2: ● */
.cm-editor .HyperMD-list-line-2 .list-bullet::after{
  content: "";
  width: var(--dot1); height: var(--dot1);
  border-radius: 50%; background: var(--mark-color);
}

/* L3: ○ */
.cm-editor .HyperMD-list-line-3 .list-bullet::after{
  content: "";
  width: var(--dot2); height: var(--dot2);
  border-radius: 50%; background: transparent; border: 2px solid var(--mark-color);
}

/* L4: ■ */
.cm-editor .HyperMD-list-line-4 .list-bullet::after{
  content: "";
  width: var(--sq); height: var(--sq);
  border-radius: 2px; background: var(--mark-color);
}

/* L5: — */
.cm-editor .HyperMD-list-line-5 .list-bullet::after{
  content: "";
  width: var(--dash-w); height: var(--dash-h);
  border-radius: 1px; background: var(--mark-color);
}

/* Repeat (6..9) */
.cm-editor .HyperMD-list-line-6  .list-bullet::after{ content:""; width:var(--dot1); height:var(--dot1); border-radius:50%; background:var(--mark-color); }
.cm-editor .HyperMD-list-line-7  .list-bullet::after{ content:""; width:var(--dot2); height:var(--dot2); border-radius:50%; background:transparent; border:2px solid var(--mark-color); }
.cm-editor .HyperMD-list-line-8  .list-bullet::after{ content:""; width:var(--sq);  height:var(--sq);  border-radius:2px; background:var(--mark-color); }
.cm-editor .HyperMD-list-line-9  .list-bullet::after{ content:""; width:var(--dash-w); height:var(--dash-h); border-radius:1px; background:var(--mark-color); }

/* Align checkboxes in editor with our custom spacing */
.cm-editor input[type="checkbox"].task-list-item-checkbox{
  margin-left: calc(-1 * var(--indent-pad));
  margin-right: 0.45rem;
}

/* ===== Level 1 arrow, then ● ○ ■ — and repeat ===== */
/* ---------- Tunables ---------- */
:root{
  /* alignment */
  --indent-pad: 1.25rem;   /* list left padding */
  --mark-left: 0.10rem;    /* small horizontal nudge */
  --mark-top: 0.62em;      /* vertical align center */

  /* symbols and sizes */
  --arrow-char: "->";      /* change to "→" if you prefer */
  --arrow-size: 0.9em;

  --dot1: 5px;             /* ● (smaller) */
  --dot2: 2px;             /* ○ (slightly bigger ring) */
  --sq:   5px;             /* ■ square side */
  --dash-w: 9px;           /* — width */
  --dash-h: 2px;           /* — height */

  --mark-color: currentColor;
}

/* =========================================================
   READING VIEW (Preview)
   ========================================================= */
.markdown-rendered ul{ list-style: none; padding-left: var(--indent-pad); }
.markdown-rendered ul li{ position: relative; }
.markdown-rendered li.task-list-item::before{ content: none !important; }

/* L1: Arrow (force render and override themes) */
.markdown-rendered ul > li:not(.task-list-item)::before{
  content: var(--arrow-char, "->") !important;
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  transform: translateY(-50%);
  font-size: var(--arrow-size) !important;
  line-height: 1;
  color: var(--mark-color) !important;
  width: auto; height: auto;
  border: none !important;
  background: transparent !important;
  border-radius: 0 !important;
}

/* L2: ● */
.markdown-rendered ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--dot1); height: var(--dot1);
  border-radius: 50%; background: var(--mark-color);
  transform: translateY(-50%);
}

/* L3: ○ */
.markdown-rendered ul ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--dot2); height: var(--dot2);
  border-radius: 50%;
  background: transparent; border: 2px solid var(--mark-color);
  transform: translateY(-50%);
}

/* L4: ■ (true square) */
.markdown-rendered ul ul ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--sq); height: var(--sq);
  background: var(--mark-color);
  border: none !important;
  border-radius: 0 !important;
  transform: translateY(-50%);
}

/* L5: — */
.markdown-rendered ul ul ul ul ul > li::before{
  content: "";
  position: absolute;
  left: calc(-1 * var(--indent-pad) + var(--mark-left));
  top: var(--mark-top);
  width: var(--dash-w); height: var(--dash-h);
  background: var(--mark-color);
  border-radius: 1px;
  transform: translateY(-50%);
}

/* Repeat 6..9: ● ○ ■ — */
.markdown-rendered ul ul ul ul ul ul > li::before{         /* 6: ● */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--dot1); height:var(--dot1); border-radius:50%; background:var(--mark-color); transform:translateY(-50%);
}
.markdown-rendered ul ul ul ul ul ul ul > li::before{      /* 7: ○ */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--dot2); height:var(--dot2); border-radius:50%; background:transparent; border:2px solid var(--mark-color); transform:translateY(-50%);
}
.markdown-rendered ul ul ul ul ul ul ul ul > li::before{   /* 8: ■ */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--sq); height:var(--sq); background:var(--mark-color); border:none !important; border-radius:0 !important; transform:translateY(-50%);
}
.markdown-rendered ul ul ul ul ul ul ul ul ul > li::before{/* 9: — */
  content:""; position:absolute; left:calc(-1*var(--indent-pad)+var(--mark-left)); top:var(--mark-top);
  width:var(--dash-w); height:var(--dash-h); background:var(--mark-color); border-radius:1px; transform:translateY(-50%);
}

/* Checkbox alignment in preview */
.markdown-rendered .task-list-item-checkbox{
  transform: translateX(calc(-1 * var(--indent-pad) + var(--mark-left)));
}

/* =========================================================
   LIVE PREVIEW (Editor)
   ========================================================= */
/* Hide native bullets so our marks replace them */
.cm-editor .cm-line .cm-formatting-list-ul,
.cm-editor .cm-line .cm-formatting-list-ol{ color: transparent !important; }

/* Clear any other :after content from themes */
.cm-editor .cm-line .list-bullet::after{
  content: "";
  width: 0; height: 0; margin: 0;
  border: none; background: transparent;
}

/* Common positioning */
.cm-editor .cm-line .list-bullet::after{
  display: inline-block;
  margin-left: calc(-1 * var(--indent-pad));
  margin-right: 0.45rem;
  vertical-align: middle;
}

/* L1: Arrow (force render) */
.cm-editor .HyperMD-list-line-1 .list-bullet::after{
  content: var(--arrow-char, "->") !important;
  font-size: var(--arrow-size) !important;
  line-height: 1;
  color: var(--mark-color) !important;
  width: auto; height: auto;
  border: none !important;
  background: transparent !important;
  border-radius: 0 !important;
}

/* L2: ● */
.cm-editor .HyperMD-list-line-2 .list-bullet::after{
  content: "";
  width: var(--dot1); height: var(--dot1);
  border-radius: 50%; background: var(--mark-color);
}

/* L3: ○ */
.cm-editor .HyperMD-list-line-3 .list-bullet::after{
  content: "";
  width: var(--dot2); height: var(--dot2);
  border-radius: 50%; background: transparent; border: 2px solid var(--mark-color);
}

/* L4: ■ (true square) */
.cm-editor .HyperMD-list-line-4 .list-bullet::after{
  content: "";
  width: var(--sq); height: var(--sq);
  background: var(--mark-color);
  border: none !important;
  border-radius: 0 !important;
}

/* L5: — */
.cm-editor .HyperMD-list-line-5 .list-bullet::after{
  content: "";
  width: var(--dash-w); height: var(--dash-h);
  border-radius: 1px; background: var(--mark-color);
}

/* Repeat 6..9 */
.cm-editor .HyperMD-list-line-6  .list-bullet::after{ content:""; width:var(--dot1); height:var(--dot1); border-radius:50%; background:var(--mark-color); }
.cm-editor .HyperMD-list-line-7  .list-bullet::after{ content:""; width:var(--dot2); height:var(--dot2); border-radius:50%; background:transparent; border:2px solid var(--mark-color); }
.cm-editor .HyperMD-list-line-8  .list-bullet::after{ content:""; width:var(--sq);  height:var(--sq);  background:var(--mark-color); border:none !important; border-radius:0 !important; }
.cm-editor .HyperMD-list-line-9  .list-bullet::after{ content:""; width:var(--dash-w); height:var(--dash-h); border-radius:1px; background:var(--mark-color); }

/* Align checkboxes in editor with our spacing */
.cm-editor input[type="checkbox"].task-list-item-checkbox{
  margin-left: calc(-1 * var(--indent-pad));
  margin-right: 0.45rem;
}
